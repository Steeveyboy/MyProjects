<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Verification Test</title>
</head>
<body>
    <h1>Financial Asset Management Game - Verification</h1>
    <div id="test-results"></div>
    
    <script src="js/core.js"></script>
    <script src="js/assets.js"></script>
    <script src="js/portfolio.js"></script>
    <script src="js/dashboard.js"></script>
    
    <script>
        function runVerificationTests() {
            const results = [];
            
            try {
                // Test 1: Core classes exist
                const gameEngine = new GameEngine();
                results.push('✅ GameEngine class loads correctly');
                
                // Test 2: Asset classes exist and inheritance works
                const assetManager = new AssetManager();
                const govBond = new GovernmentBond('test', 'Test Bond', 1000, 0.05, 10);
                const corpBond = new CorporateBond('test2', 'Test Corp', 1000, 0.06, 5, 'BBB', 'tech', 'Test Corp');
                results.push('✅ Asset classes and inheritance work correctly');
                
                // Test 3: Time system
                const timeSystem = new TimeSystem();
                results.push('✅ TimeSystem class loads correctly');
                
                // Test 4: Portfolio management
                const portfolio = new PortfolioManager();
                results.push('✅ PortfolioManager class loads correctly');
                
                // Test 5: Save manager
                const saveManager = new SaveManager();
                results.push('✅ SaveManager class loads correctly');
                
                // Test 6: Asset calculations
                const price = govBond.calculateValue(null, {treasuryRate: 0.045, creditSpread: 0, vix: 15, inflation: 0.025});
                if (typeof price === 'number' && price > 0) {
                    results.push('✅ Bond pricing calculations work correctly');
                } else {
                    results.push('❌ Bond pricing calculations failed');
                }
                
                // Test 7: Corporate bond features
                const creditSpread = corpBond.getCreditSpread('BBB');
                if (typeof creditSpread === 'number' && creditSpread > 0) {
                    results.push('✅ Corporate bond credit spread calculation works');
                } else {
                    results.push('❌ Corporate bond credit spread calculation failed');
                }
                
            } catch (error) {
                results.push(`❌ Error during testing: ${error.message}`);
            }
            
            // Display results
            document.getElementById('test-results').innerHTML = 
                '<h2>Test Results:</h2><ul>' + 
                results.map(r => `<li>${r}</li>`).join('') + 
                '</ul>';
        }
        
        // Run tests when page loads
        window.addEventListener('DOMContentLoaded', runVerificationTests);
    </script>
</body>
</html>
